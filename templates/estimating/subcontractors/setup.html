{% extends 'base.html' %}

{% block title %}
Constology - New subcontractor
{% endblock %}

{% block content %}
<div class="row">
    <div class ="col-md-6">
        <h1>Create New subcontractor</h1>
        <link rel="stylesheet" href="https://formden.com/static/cdn/bootstrap-iso.css" /> 

<!--Font Awesome (added because you use icons in your prepend/append)-->
<link rel="stylesheet" href="https://formden.com/static/cdn/font-awesome/4.4.0/css/font-awesome.min.css" />

        <style>.bootstrap-iso .formden_header h2, .bootstrap-iso .formden_header p, .bootstrap-iso form{font-family: Arial, Helvetica, sans-serif; color: black}.bootstrap-iso form button, .bootstrap-iso form button:hover{color: white !important;} .asteriskField{color: red;}</style>

        {% include '_flashmessages.html' %}
        
        {% from '_formhelpers.html' import render_field %}
        {% if action=='new' %}
        <form method="POST" action = "{{ url_for('new_subcontractor') }}" role ="form">
        {% else %}
        <form method="POST" action="{{ url_for('edit_subcontractor', id = subcontractor.id)  }}" role="form">
        {% endif %}
        {{ form.hidden_tag() }}
        {{ render_field(form.code, class="form-control") }}
        {{ render_field(form.name, class="form-control") }}
        {{ render_field(form.description, class="form-control") }}
        {{ render_field(form.contact_person, class="form-control") }}
        {{ render_field(form.contact_number, class="form-control") }}
        {{ render_field(form.address, class="form-control") }}

        <button type ="submit" class="btn btn-success">Save</button>
        </form>

    </div>
</div>

<!-- Include jQuery -->
<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

<!-- Include Date Range Picker -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css"/>

<script>
    $(document).ready(function(){
        var date_input=$('input[name="start"]'); //our date input has the name "date"
        var container=$('.bootstrap-iso form').length>0 ? $('.bootstrap-iso form').parent() : "body";
        date_input.datepicker({
            format: 'dd/mm/yyyy',
            container: container,
            todayHighlight: true,
            autoclose: true,
        })
    })
</script>

<script>
    $(document).ready(function(){
        var date_input=$('input[name="finish"]'); //our date input has the name "date"
        var container=$('.bootstrap-iso form').length>0 ? $('.bootstrap-iso form').parent() : "body";
        date_input.datepicker({
            format: 'dd/mm/yyyy',
            container: container,
            todayHighlight: true,
            autoclose: true,
        })
    })
</script>
{% endblock %}